# Serverless Load Testing Framework
<!--BEGIN STABILITY BANNER-->
---

![Stability: Experimental](https://img.shields.io/badge/stability-Experimental-important.svg?style=for-the-badge)

> **This is an experimental example. It may not build out of the box**

---
<!--END STABILITY BANNER-->

This example creates a Stepfunction workflow that sets up the infrastructure for running a load test with Cognito users against an API Gateway endpoint that is configured to use Cognito authorizer.


## Build

To build this app, you need to be in this example's root folder. Then run the following:

```bash
npm install -g aws-cdk
npm install
npm run build
```

This will install the necessary CDK, then this example's dependencies, and then build your TypeScript files and CloudFormation template.

## Deploy

Run `cdk deploy --parameters apiGatewayUrl=<API_URL>` replacing <API_URL> with the API Gateway URL you intend to test. This will deploy / redeploy your Stack to your AWS Account.

After the deployment you will be able to use a Step Function (starts with name "ApiLoadTestCreateUsersAndFanOut") to trigger a load test.

## Synthesize Cloudformation Template

To see the Cloudformation template generated by the CDK, run `cdk synth`, then check the output file in the "cdk.out" directory.
